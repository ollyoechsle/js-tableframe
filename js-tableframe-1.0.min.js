window.OO=window.OO||{},function(){function e(e,t){this.jContainer=jQuery(e),this.model=t}function t(t){return Mustache.to_html(e.ROW,{list:t.map(n)})}function n(e){return{value:e}}e.prototype=Object.create(Subscribable.prototype),e.prototype.jContainer=null,e.prototype.draw=function(){var n=jQuery(Mustache.to_html(e.TABLE));n.find("thead tr").html(this.model.getColumns().map(Mustache.to_html.bind(this,e.TH)).join("")),n.find("tbody").html(this.model.getVisibleRows().map(t).join("")),this.jContainer.empty().append(n)},e.TH='<th data-column="{{{id}}}">{{{name}}}</th>',e.TABLE="<table><thead><tr></tr></tr></thead><tbody></tbody></table>",e.ROW="<tr>{{#list}}<td>{{{value}}}</td>{{/list}}</tr>",OO.Table=e}(),function(){function e(e){this.columns=e.columns||[],this.allData=e.data||[],this.pageSize=e.pageSize||10,this.pageNumber=e.pageNumber||0}e.prototype=Object.create(Subscribable.prototype),e.prototype.columns=null,e.prototype.allData=null,e.prototype.pageSize=null,e.prototype.pageNumber=null,e.prototype.getColumns=function(){return this.columns},e.prototype.getVisibleRows=function(){return this.allData.filter(this.inPage.bind(this)).map(this.formatRow.bind(this))},e.prototype.formatRow=function(t,n,r){return this.columns.forEach(function(n,r){var i=n.formatter||e.NO_FORMAT;t[r]=i(t[r])}),t},e.prototype.inPage=function(e,t,n){var r=this.pageNumber*this.pageSize;return t>=r&&t<r+this.pageSize},e.NO_FORMAT=function(e){return e},OO.TableModel=e}();